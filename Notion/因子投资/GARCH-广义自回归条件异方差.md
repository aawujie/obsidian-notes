---
notion-id: 30278d23-e296-806b-a7c8-ce8176f420af
base: "[[因子投资.base]]"
Last edited time: 2026-02-11T18:43:00
Tags: []
Verification: unverified
Owner:
  - 杰 吴
---
> **它不预测股票明天是涨还是跌（那是 ARMA 的事），它预测的是明天股票会 ‘晃’ 得有多厉害。**

**G (Generalized) - 广义**：这是对老模型 ARCH 的 “升级版”。加上 “广义” 是因为它不仅看昨天的**错误**（残差），还看昨天的**记性**（方差本身）。

## 1. 为什么要发明 GARCH ？（解决 ARCH 的短板）

在 GARCH 出现之前，人们用 **ARCH 模型**。

- ARCH 的逻辑很简单：**如果昨天的收益率变化很大（残差平方大），那今天的风险（方差）就大。**

**ARCH 的问题是：它的 “记性” 太差了。**

为了描述一段长达几个月的波动聚集（比如 2015 年股灾持续了很久），ARCH 模型需要往回看很多天（比如 ARCH(20)）。这会导致模型参数太多，计算很慢，还不准。

**GARCH 的天才之处：**

Bollerslev (1986) 提出：**与其往回看 20 天的残差，不如直接把 “昨天的方差” 作为输入加进来。**

这就好比：

- **ARCH**：为了预测今天的天气，我得去翻过去 30 天的云量记录。
- **GARCH**：我不需要翻记录，我只要看一眼**昨天的天气预报**（昨天的方差）准不准，再结合**昨天实际有没有下雨**，就能推断今天的。

## 2. GARCH(1,1) 的数学公式

这是最经典的 GARCH(1,1) 模型，99% 的金融分析都用这个版本：

$$
\sigma_t^2 = \omega + \alpha \cdot \epsilon_{t-1}^2 + \beta \cdot \sigma_{t-1}^2
$$

**今天的风险 (**$σ_t^2$**) = 基础风险 (ω) + 昨天发生的意外 (α) + 昨天延续下来的恐慌 (β)**

1. $\omega$ **(Omega)  - 基础体温（常数项）**：
    - 不管市场怎么变，总会有一个最低限度的波动率（比如市场总得有点动静，不会死水一潭）。
2. $\alpha \cdot \epsilon_{t-1}^2$ 昨天实际残差平方项 **(Alpha × 昨天的意外) - 昨天的 “消息”**：
    - 这就是 **ARCH 项**。
    - 如果昨天突然爆了个大雷（$\epsilon_{t-1}^2$ 很大），这部分就会让今天的预测风险飙升。
    - 它代表了 “这种冲击有多大影响”。
3. $\beta \cdot \sigma_{t-1}^2$ 昨天预测方差项 **(Beta × 昨天的记性) - 惯性/记忆**：
    - 这就是 **GARCH 项**（升级的部分）。
    - 如果昨天的预测方差本来就很大（说明本来就在恐慌期），那今天大概率继续恐慌。
    - 它代表了 “这种恐慌会持续多久”。

**一个关键的数学约束（必考点）**

在使用 GARCH(1,1) 时，必须满足一个铁律：

$$
α+β<1
$$

- **为什么？**
    - α 是 “今天的反应”，β 是 “昨天的记忆”。
    - 如果这两个加起来超过 1，意味着波动率会**无限膨胀**（今天的震动比昨天大，明天比今天更大），最后系统崩溃（Mean Reverting 失败）。
    - **正常情况**：$α+β$ 越接近 1（比如 0.98），说明**记忆性越强**（波动聚集持续时间越长）。
- **金融含义**：
    - 只要 $α+β<1$，无论现在的波动率多高（比如股灾），它最终都会**回归**到一个长期的平均水平（Mean Reversion）。这符合我们对市场的认知：**股灾总会过去，市场终将平静。**

## 3. 举个生活中的例子：吵架

想象你和你女朋友/男朋友吵架的激烈程度（波动率）：

- **ARMA (均值)**：预测你们明天是 “和好” 还是 “分手”（方向）。
- **GARCH (方差)**：预测你们明天是 “冷战” 还是 “摔盘子”（激烈程度）。

**GARCH(1,1) 会这样思考：**

4. **基础脾气 (**ω**)**：你们俩平时脾气就不太好，就算没事也有点小摩擦。
5. **消息冲击 (**α**) 敏感度 Reactivity**：昨天是不是**突然**提到了前任？（这相当于昨天的残差平方很大）。如果是，今天的火药味肯定重。
6. **惯性记忆 (**β**) 持久度 Persistence**：昨天是不是**已经在吵架了**？（昨天的方差很大）。如果是，这种愤怒的情绪今天很难马上消退，还会延续。这叫**状态的自我延续**。

## 4. 为什么说 GARCH 是量化交易的神器？

因为在金融里，**方向（涨跌）很难预测，但风险（波动）很好预测。**

- 如果你算出明天的 GARCH 波动率（$\sigma_{t+1}$）非常高：
    - 你可以**减仓**（风控）。
    - 你可以买入**期权**（做多波动率）。
    - 你可以调整止损线（宽止损）。

## 5. 如何配合 **ARMA **使用

### **5.1 它们是 “串联” 工作的：**

我们通常**先**跑 ARMA 模型，把预测剩下的 **残差**（Residuals）提取出来，**再**把这些残差喂给 GARCH 模型去分析波动率规律。

- **ARMA 的逻辑**：它希望残差是纯粹的随机噪音。
- **残酷的现实**：在金融市场，这个 “意外”（残差）虽然**方向随机**，但它的 **动静大小（绝对值）并不随机**！
- **这就是为什么我们要看 “残差平方”**：
    - 如果残差是 +2, -2, +3, -3。虽然它们均值是 0，看起来很随机。
    - 但它们平方后是 4, 4, 9, 9。
    - **结论**：这说明这几天的 “意外” 都很大！意外在**聚集**。

### 5.2 ARMA vs GARCH：方向与能量的区别

你的理解非常到位：

- **ARMA 是预测 “正负”**：明天心情是 +1（开心）还是 -1（难过）。
- **GARCH 是预测 “绝对值”**：明天无论是开心还是难过，**动静大不大**？
    - GARCH 高：要么是大笑（大涨），要么是大哭（大跌）。
    - GARCH 低：无论是笑是哭，都只是“哼”一下。

## 6. **残差与 GARCH 的生死关联**

### **6.1 残差 (带符号 ±) **

- **残差是意外，模型不可预测的部分**
- **残差代表的是 “方向” 和 “误差”。**残差必须带符号，它得告诉你模型是猜高了还是猜低了。
- **GARCH 的输入值  **$ϵ_{t−1}^2$**，其实就是 ARMA 剩下的 “残差平方”。**
- GARCH 说：“既然 ARMA 猜不透这些意外的方向，那我就来猜猜这些意外的猛烈程度。”

### 6.2 波动率（永远为+）

- **代表的是 “幅度” 和 “能量”。** 
- **波动率（标准差）**在数学上是方差开根号得来的，它衡量的是 “晃动的范围有多宽”。

### **6.3 标准化残差  (Standardized Residuals)**

如果模型完美，最后的 “标准化残差” 应该是无规律的白噪声。

$$
\text 标准化残差=\frac{原始残差(±
)}{\text GARCH预测的波动率(+)}
$$

- **结果：依然带符号（**±**）**
- **它的意义变了**：它不再表示 “跌了多少点”，而表示 **“跌了几个标准差”**。
- 告诉我**剔除掉市场乱不乱的因素后，你这一跌/一涨，到底算不算个事儿**

**例子：**

- **场景 A（平稳期）**：波动率波动率是 1%。今天跌了 2%（残差是 -2%）。
    - 标准化残差 =  −2% ÷ 1% = −2。
    - **人话**：在风平浪静的时候，你跌了 2 倍身位。**挺惨的。**
- **场景 B（大暴跌期）**：波动率波动率是 10%。今天同样跌了 2%（残差是 -2%）。
    - 标准化残差 = 2% ÷ 10% = −0.2。
    - **人话**：在惊涛骇浪的时候，你才跌了 0.2 倍身位。**毛毛雨啦！**
- **场景C（大牛市/暴涨暴跌期）：**波动率预测高达 10%。今天同样涨了 5%（残差是 +5%）。
    - 标准化残差 = +5% ÷ 10% = +0.5。
    - **人话**：在惊涛骇浪的时候，你才跳了 0.5 倍身位。**平平无奇，完全在预料之中。**
